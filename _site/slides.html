<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <title>software.carpintery.shell.nestor.github.io – slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-dd92cf35496b2e622f154d6ee8673133.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section>
<section id="introducing-the-shell" class="title-slide slide level1 center">
<h1>Introducing the Shell</h1>

</section>
<section class="slide level2">

</section></section>
<section>
<section id="navigating-files-and-directories" class="title-slide slide level1 center">
<h1>Navigating Files and Directories</h1>

</section>
<section class="slide level2">


<img data-src="fig/filesystem.svg" alt="The file system is made up of a root directory that contains sub-directories titled bin, data, users, and tmp" class="r-stretch"></section>
<section class="slide level2">


<img data-src="fig/home-directories.svg" alt="Like other directories, home directories are sub-directories underneath &quot;/Users&quot; like &quot;/Users/imhotep&quot;, &quot;/Users/larry&quot; or&quot;/Users/nelle&quot;" class="r-stretch"></section>
<section class="slide level2">


<img data-src="fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;" class="r-stretch"></section>
<section class="slide level2">


<img data-src="fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;" class="r-stretch"></section>
<section class="slide level2">


<img data-src="fig/shell_command_syntax.svg" alt="General syntax of a shell command" class="r-stretch"></section>
<section class="slide level2">

</section>
<section id="exploring-more-ls-options" class="slide level2 challenge">
<h2>Exploring More <code>ls</code> Options</h2>
<p>You can also use two options at the same time. What does the command <code>ls</code> do when used with the <code>-l</code> option? What about if you use both the <code>-l</code> and the <code>-h</code> option?</p>
<p>Some of its output is about properties that we do not cover in this lesson (such as file permissions and ownership), but the rest should be useful nevertheless.</p>
</section>
<section class="slide level2">

</section>
<section id="listing-in-reverse-chronological-order" class="slide level2 challenge">
<h2>Listing in Reverse Chronological Order</h2>
<p>By default, <code>ls</code> lists the contents of a directory in alphabetical order by name. The command <code>ls -t</code> lists items by time of last change instead of alphabetically. The command <code>ls -r</code> lists the contents of a directory in reverse order. Which file is displayed last when you combine the <code>-t</code> and <code>-r</code> options? Hint: You may need to use the <code>-l</code> option to see the last changed dates.</p>
</section>
<section class="slide level2">

</section>
<section id="absolute-vs-relative-paths" class="slide level2 challenge">
<h2>Absolute vs Relative Paths</h2>
<p>Starting from <code>/Users/nelle/data</code>, which of the following commands could Nelle use to navigate to her home directory, which is <code>/Users/nelle</code>?</p>
<ol type="1">
<li><code>cd .</code></li>
<li><code>cd /</code></li>
<li><code>cd /home/nelle</code></li>
<li><code>cd ../..</code></li>
<li><code>cd ~</code></li>
<li><code>cd home</code></li>
<li><code>cd ~/data/..</code></li>
<li><code>cd</code></li>
<li><code>cd ..</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="relative-path-resolution" class="slide level2 challenge">
<h2>Relative Path Resolution</h2>
<p>Using the filesystem diagram below, if <code>pwd</code> displays <code>/Users/thing</code>, what will <code>ls -F ../backup</code> display?</p>
<ol type="1">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original/ pnas_final/ pnas_sub/</code></li>
</ol>

<img data-src="fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;" class="r-stretch"></section>
<section class="slide level2">

</section>
<section id="ls-reading-comprehension" class="slide level2 challenge">
<h2><code>ls</code> Reading Comprehension</h2>
<p>Using the filesystem diagram below, if <code>pwd</code> displays <code>/Users/backup</code>, and <code>-r</code> tells <code>ls</code> to display things in reverse order, what command(s) will result in the following output:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a></a>pnas_sub/ pnas_final/ original/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<img data-src="fig/filesystem-challenge.svg" alt="A directory tree below the Users directory where &quot;/Users&quot; contains the directories &quot;backup&quot; and &quot;thing&quot;; &quot;/Users/backup&quot; contains &quot;original&quot;,&quot;pnas_final&quot; and &quot;pnas_sub&quot;; &quot;/Users/thing&quot; contains &quot;backup&quot;; and&quot;/Users/thing/backup&quot; contains &quot;2012-12-01&quot;, &quot;2013-01-08&quot; and&quot;2013-01-27&quot;" class="r-stretch"><ol type="1">
<li><code>ls pwd</code></li>
<li><code>ls -r -F</code></li>
<li><code>ls -r -F /Users/backup</code></li>
</ol>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="working-with-files-and-directories" class="title-slide slide level1 center">
<h1>Working With Files and Directories</h1>

</section>
<section class="slide level2">


<img data-src="fig/nano-screenshot.png" alt="screenshot of nano text editor in action with the text It's not publish or perish any more, it's share and thrive" class="r-stretch"></section>
<section class="slide level2">

</section>
<section id="creating-files-a-different-way" class="slide level2 challenge">
<h2>Creating Files a Different Way</h2>
<p>We have seen how to create text files using the <code>nano</code> editor. Now, try the following command:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a></a><span class="ex">$</span> touch my_file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><p>What did the <code>touch</code> command do? When you look at your current directory using the GUI file explorer, does the file show up?</p></li>
<li><p>Use <code>ls -l</code> to inspect the files. How large is <code>my_file.txt</code>?</p></li>
<li><p>When might you want to create a file this way?</p></li>
</ol>
<p>To avoid confusion later on, we suggest removing the file you’ve just created before proceeding with the rest of the episode, otherwise future outputs may vary from those given in the lesson. To do this, use the following command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a></a><span class="ex">$</span> rm my_file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="moving-files-to-a-new-folder" class="slide level2 challenge">
<h2>Moving Files to a new folder</h2>
<p>After running the following commands, Jamie realizes that she put the files <code>sucrose.dat</code> and <code>maltose.dat</code> into the wrong folder. The files should have been placed in the <code>raw</code> folder.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span>
<span id="cb4-2"><a></a> <span class="ex">analyzed/</span> raw/</span>
<span id="cb4-3"><a></a><span class="ex">$</span> ls <span class="at">-F</span> analyzed</span>
<span id="cb4-4"><a></a><span class="ex">fructose.dat</span> glucose.dat maltose.dat sucrose.dat</span>
<span id="cb4-5"><a></a><span class="ex">$</span> cd analyzed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fill in the blanks to move these files to the <code>raw/</code> folder (i.e.&nbsp;the one she forgot to put them in)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a></a><span class="ex">$</span> mv sucrose.dat maltose.dat ____/____</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="renaming-files" class="slide level2 challenge">
<h2>Renaming Files</h2>
<p>Suppose that you created a plain-text file in your current directory to contain a list of the statistical tests you will need to do to analyze your data, and named it <code>statstics.txt</code></p>
<p>After creating and saving this file you realize you misspelled the filename! You want to correct the mistake, which of the following commands could you use to do so?</p>
<ol type="1">
<li><code>cp statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt .</code></li>
<li><code>cp statstics.txt .</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="moving-and-copying" class="slide level2 challenge">
<h2>Moving and Copying</h2>
<p>What is the output of the closing <code>ls</code> command in the sequence shown below?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a></a><span class="ex">$</span> pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a></a>/Users/jamie/data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a></a><span class="ex">$</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1"><a></a>proteins.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a></a><span class="ex">$</span> mkdir recombined</span>
<span id="cb10-2"><a></a><span class="ex">$</span> mv proteins.dat recombined/</span>
<span id="cb10-3"><a></a><span class="ex">$</span> cp recombined/proteins.dat ../proteins-saved.dat</span>
<span id="cb10-4"><a></a><span class="ex">$</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><code>proteins-saved.dat recombined</code></li>
<li><code>recombined</code></li>
<li><code>proteins.dat recombined</code></li>
<li><code>proteins-saved.dat</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="using-rm-safely" class="slide level2 challenge">
<h2>Using <code>rm</code> Safely</h2>
<p>What happens when we execute <code>rm -i thesis_backup/quotations.txt</code>? Why would we want this protection when using <code>rm</code>?</p>
</section>
<section class="slide level2">

</section>
<section id="copy-with-multiple-filenames" class="slide level2 challenge">
<h2>Copy with Multiple Filenames</h2>
<p>For this exercise, you can test the commands in the <code>shell-lesson-data/exercise-data</code> directory.</p>
<p>In the example below, what does <code>cp</code> do when given several filenames and a directory name?</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a></a><span class="ex">$</span> mkdir backup</span>
<span id="cb11-2"><a></a><span class="ex">$</span> cp creatures/minotaur.dat creatures/unicorn.dat backup/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the example below, what does <code>cp</code> do when given three or more file names?</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a></a><span class="ex">$</span> cd creatures</span>
<span id="cb12-2"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1"><a></a>basilisk.dat  minotaur.dat  unicorn.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a></a><span class="ex">$</span> cp minotaur.dat unicorn.dat basilisk.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="list-filenames-matching-a-pattern" class="slide level2 challenge">
<h2>List filenames matching a pattern</h2>
<p>When run in the <code>alkanes</code> directory, which <code>ls</code> command(s) will produce this output?</p>
<p><code>ethane.pdb   methane.pdb</code></p>
<ol type="1">
<li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="more-on-wildcards" class="slide level2 challenge">
<h2>More on Wildcards</h2>
<p>Sam has a directory containing calibration data, datasets, and descriptions of the datasets:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a></a><span class="bu">.</span></span>
<span id="cb15-2"><a></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb15-3"><a></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb15-4"><a></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb15-5"><a></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb15-6"><a></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb15-7"><a></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb15-8"><a></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb15-9"><a></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb15-10"><a></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb15-11"><a></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb15-12"><a></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb15-13"><a></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb15-14"><a></a><span class="ex">├──</span> backup</span>
<span id="cb15-15"><a></a><span class="ex">│&nbsp;&nbsp;</span> ├── calibration</span>
<span id="cb15-16"><a></a><span class="ex">│&nbsp;&nbsp;</span> └── datasets</span>
<span id="cb15-17"><a></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb15-18"><a></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb15-19"><a></a>    <span class="ex">└──</span> all_november_files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Before heading off to another field trip, she wants to back up her data and send some datasets to her colleague Bob. Sam uses the following commands to get the job done:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a></a><span class="ex">$</span> cp <span class="pp">*</span>dataset<span class="pp">*</span> backup/datasets</span>
<span id="cb16-2"><a></a><span class="ex">$</span> cp ____calibration____ backup/calibration</span>
<span id="cb16-3"><a></a><span class="ex">$</span> cp 2015-____-____ send_to_bob/all_november_files/</span>
<span id="cb16-4"><a></a><span class="ex">$</span> cp ____ send_to_bob/all_datasets_created_on_a_23rd/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Help Sam by filling in the blanks.</p>
<p>The resulting directory structure should look like this</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a></a><span class="bu">.</span></span>
<span id="cb17-2"><a></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb17-3"><a></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb17-4"><a></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb17-5"><a></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb17-6"><a></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb17-7"><a></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb17-8"><a></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb17-9"><a></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb17-10"><a></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb17-11"><a></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb17-12"><a></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb17-13"><a></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb17-14"><a></a><span class="ex">├──</span> backup</span>
<span id="cb17-15"><a></a><span class="ex">│&nbsp;&nbsp;</span> ├── calibration</span>
<span id="cb17-16"><a></a><span class="ex">│&nbsp;&nbsp;</span> │&nbsp;&nbsp; ├── 2015-10-23-calibration.txt</span>
<span id="cb17-17"><a></a><span class="ex">│&nbsp;&nbsp;</span> │&nbsp;&nbsp; ├── 2015-10-26-calibration.txt</span>
<span id="cb17-18"><a></a><span class="ex">│&nbsp;&nbsp;</span> │&nbsp;&nbsp; └── 2015-11-23-calibration.txt</span>
<span id="cb17-19"><a></a><span class="ex">│&nbsp;&nbsp;</span> └── datasets</span>
<span id="cb17-20"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-23-dataset1.txt</span>
<span id="cb17-21"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-23-dataset2.txt</span>
<span id="cb17-22"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb17-23"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-26-dataset1.txt</span>
<span id="cb17-24"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-26-dataset2.txt</span>
<span id="cb17-25"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-10-26-dataset_overview.txt</span>
<span id="cb17-26"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-11-23-dataset1.txt</span>
<span id="cb17-27"><a></a><span class="ex">│&nbsp;&nbsp;</span>     ├── 2015-11-23-dataset2.txt</span>
<span id="cb17-28"><a></a><span class="ex">│&nbsp;&nbsp;</span>     └── 2015-11-23-dataset_overview.txt</span>
<span id="cb17-29"><a></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb17-30"><a></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb17-31"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> ├── 2015-10-23-dataset1.txt</span>
<span id="cb17-32"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> ├── 2015-10-23-dataset2.txt</span>
<span id="cb17-33"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb17-34"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> ├── 2015-11-23-dataset1.txt</span>
<span id="cb17-35"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> ├── 2015-11-23-dataset2.txt</span>
<span id="cb17-36"><a></a>    <span class="ex">│&nbsp;&nbsp;</span> └── 2015-11-23-dataset_overview.txt</span>
<span id="cb17-37"><a></a>    <span class="ex">└──</span> all_november_files</span>
<span id="cb17-38"><a></a>        <span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb17-39"><a></a>        <span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb17-40"><a></a>        <span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb17-41"><a></a>        <span class="ex">└──</span> 2015-11-23-dataset_overview.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="organizing-directories-and-files" class="slide level2 challenge">
<h2>Organizing Directories and Files</h2>
<p>Jamie is working on a project, and she sees that her files aren’t very well organized:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb19-1"><a></a>analyzed/  fructose.dat    raw/   sucrose.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>fructose.dat</code> and <code>sucrose.dat</code> files contain output from her data analysis. What command(s) covered in this lesson does she need to run so that the commands below will produce the output shown?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a></a><span class="ex">$</span> ls <span class="at">-F</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb21-1"><a></a>analyzed/   raw/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a></a><span class="ex">$</span> ls analyzed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb23-1"><a></a>fructose.dat    sucrose.dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="reproduce-a-folder-structure" class="slide level2 challenge">
<h2>Reproduce a folder structure</h2>
<p>You’re starting a new experiment and would like to duplicate the directory structure from your previous experiment so you can add new data.</p>
<p>Assume that the previous experiment is in a folder called <code>2016-05-18</code>, which contains a <code>data</code> folder that in turn contains folders named <code>raw</code> and <code>processed</code> that contain data files. The goal is to copy the folder structure of the <code>2016-05-18</code> folder into a folder called <code>2016-05-20</code> so that your final directory structure looks like this:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb24-1"><a></a>2016-05-20/</span>
<span id="cb24-2"><a></a>└── data</span>
<span id="cb24-3"><a></a>   ├── processed</span>
<span id="cb24-4"><a></a>   └── raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Which of the following set of commands would achieve this objective? What would the other commands do?</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb25-2"><a></a><span class="ex">$</span> mkdir 2016-05-20/data</span>
<span id="cb25-3"><a></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span>
<span id="cb25-4"><a></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb26-2"><a></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb26-3"><a></a><span class="ex">$</span> mkdir data</span>
<span id="cb26-4"><a></a><span class="ex">$</span> cd data</span>
<span id="cb26-5"><a></a><span class="ex">$</span> mkdir raw processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span>
<span id="cb27-2"><a></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/raw</span>
<span id="cb28-2"><a></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb29-2"><a></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb29-3"><a></a><span class="ex">$</span> mkdir data</span>
<span id="cb29-4"><a></a><span class="ex">$</span> mkdir raw processed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="pipes-and-filters" class="title-slide slide level1 center">
<h1>Pipes and Filters</h1>

</section>
<section class="slide level2">


<img data-src="fig/redirects-and-pipes.svg" alt="Redirects and Pipes of different commands: &quot;wc -l *.pdb&quot; will direct theoutput to the shell. &quot;wc -l *.pdb > lengths&quot; will direct output to the file&quot;lengths&quot;. &quot;wc -l *.pdb | sort -n | head -n 1&quot; will build a pipeline where theoutput of the &quot;wc&quot; command is the input to the &quot;sort&quot; command, the output ofthe &quot;sort&quot; command is the input to the &quot;head&quot; command and the output of the&quot;head&quot; command is directed to the shell" class="r-stretch"></section>
<section class="slide level2">

</section>
<section id="what-does-sort--n-do" class="slide level2 challenge">
<h2>What Does <code>sort -n</code> Do?</h2>
<p>The file <code>shell-lesson-data/exercise-data/numbers.txt</code> contains the following lines:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1"><a></a>10</span>
<span id="cb30-2"><a></a>2</span>
<span id="cb30-3"><a></a>19</span>
<span id="cb30-4"><a></a>22</span>
<span id="cb30-5"><a></a>6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If we run <code>sort</code> on this file, the output is:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb31-1"><a></a>10</span>
<span id="cb31-2"><a></a>19</span>
<span id="cb31-3"><a></a>2</span>
<span id="cb31-4"><a></a>22</span>
<span id="cb31-5"><a></a>6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If we run <code>sort -n</code> on the same file, we get this instead:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb32-1"><a></a>2</span>
<span id="cb32-2"><a></a>6</span>
<span id="cb32-3"><a></a>10</span>
<span id="cb32-4"><a></a>19</span>
<span id="cb32-5"><a></a>22</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explain why <code>-n</code> has this effect.</p>
</section>
<section class="slide level2">

</section>
<section id="what-does-mean" class="slide level2 challenge">
<h2>What Does <code>&gt;&gt;</code> Mean?</h2>
<p>We have seen the use of <code>&gt;</code>, but there is a similar operator <code>&gt;&gt;</code> which works slightly differently. We’ll learn about the differences between these two operators by printing some strings. We can use the <code>echo</code> command to print strings e.g.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a></a><span class="ex">$</span> echo The echo command prints text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb34-1"><a></a>The echo command prints text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now test the commands below to reveal the difference between the two operators:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a></a><span class="ex">$</span> echo hello <span class="op">&gt;</span> testfile01.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a></a><span class="ex">$</span> echo hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: Try executing each command twice in a row and then examining the output files.</p>
</section>
<section class="slide level2">

</section>
<section id="appending-data" class="slide level2 challenge">
<h2>Appending Data</h2>
<p>We have already met the <code>head</code> command, which prints lines from the start of a file. <code>tail</code> is similar, but prints lines from the end of a file instead.</p>
<p>Consider the file <code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>. After these commands, select the answer that corresponds to the file <code>animals-subset.csv</code>:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a></a><span class="ex">$</span> head <span class="at">-n</span> 3 animals.csv <span class="op">&gt;</span> animals-subset.csv</span>
<span id="cb37-2"><a></a><span class="ex">$</span> tail <span class="at">-n</span> 2 animals.csv <span class="op">&gt;&gt;</span> animals-subset.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>The first three lines of <code>animals.csv</code></li>
<li>The last two lines of <code>animals.csv</code></li>
<li>The first three lines and the last two lines of <code>animals.csv</code></li>
<li>The second and third lines of <code>animals.csv</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="piping-commands-together" class="slide level2 challenge">
<h2>Piping Commands Together</h2>
<p>In our current directory, we want to find the 3 files which have the least number of lines. Which command listed below would work?</p>
<ol type="1">
<li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="pipe-reading-comprehension" class="slide level2 challenge">
<h2>Pipe Reading Comprehension</h2>
<p>A file called <code>animals.csv</code> (in the <code>shell-lesson-data/exercise-data/animal-counts</code> folder) contains the following data:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb38-1"><a></a>2012-11-05,deer,5</span>
<span id="cb38-2"><a></a>2012-11-05,rabbit,22</span>
<span id="cb38-3"><a></a>2012-11-05,raccoon,7</span>
<span id="cb38-4"><a></a>2012-11-06,rabbit,19</span>
<span id="cb38-5"><a></a>2012-11-06,deer,2</span>
<span id="cb38-6"><a></a>2012-11-06,fox,4</span>
<span id="cb38-7"><a></a>2012-11-07,rabbit,16</span>
<span id="cb38-8"><a></a>2012-11-07,bear,1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What text passes through each of the pipes and the final redirect in the pipeline below? Note, the <code>sort -r</code> command sorts in reverse order.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a></a><span class="ex">$</span> cat animals.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: build the pipeline up one command at a time to test your understanding</p>
</section>
<section class="slide level2">

</section>
<section id="pipe-construction" class="slide level2 challenge">
<h2>Pipe Construction</h2>
<p>For the file <code>animals.csv</code> from the previous exercise, consider the following command:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>cut</code> command is used to remove or ‘cut out’ certain sections of each line in the file, and <code>cut</code> expects the lines to be separated into columns by a <kbd>Tab</kbd> character. A character used in this way is called a <strong>delimiter</strong>. In the example above we use the <code>-d</code> option to specify the comma as our delimiter character. We have also used the <code>-f</code> option to specify that we want to extract the second field (column). This gives the following output:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb41-1"><a></a>deer</span>
<span id="cb41-2"><a></a>rabbit</span>
<span id="cb41-3"><a></a>raccoon</span>
<span id="cb41-4"><a></a>rabbit</span>
<span id="cb41-5"><a></a>deer</span>
<span id="cb41-6"><a></a>fox</span>
<span id="cb41-7"><a></a>rabbit</span>
<span id="cb41-8"><a></a>bear</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>uniq</code> command filters out adjacent matching lines in a file. How could you extend this pipeline (using <code>uniq</code> and another command) to find out what animals the file contains (without any duplicates in their names)?</p>
</section>
<section class="slide level2">

</section>
<section id="which-pipe" class="slide level2 challenge">
<h2>Which Pipe?</h2>
<p>The file <code>animals.csv</code> contains 8 lines of data formatted as follows:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb42-1"><a></a>2012-11-05,deer,5</span>
<span id="cb42-2"><a></a>2012-11-05,rabbit,22</span>
<span id="cb42-3"><a></a>2012-11-05,raccoon,7</span>
<span id="cb42-4"><a></a>2012-11-06,rabbit,19</span>
<span id="cb42-5"><a></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>uniq</code> command has a <code>-c</code> option which gives a count of the number of times a line occurs in its input. Assuming your current directory is <code>shell-lesson-data/exercise-data/animal-counts</code>, what command would you use to produce a table that shows the total count of each type of animal in the file?</p>
<ol type="1">
<li><code>sort animals.csv | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c | wc -l</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="removing-unneeded-files" class="slide level2 challenge">
<h2>Removing Unneeded Files</h2>
<p>Suppose you want to delete your processed data files, and only keep your raw files and processing script to save storage. The raw files end in <code>.dat</code> and the processed files end in <code>.txt</code>. Which of the following would remove all the processed data files, and <em>only</em> the processed data files?</p>
<ol type="1">
<li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="loops" class="title-slide slide level1 center">
<h1>Loops</h1>

</section>
<section class="slide level2">


<img data-src="fig/shell_script_for_loop_flow_chart.svg" alt="The for loop &quot;for filename in .dat; do echo cp $filename original-$filename;done&quot; will successively assign the names of all &quot;.dat&quot; files in your currentdirectory to the variable &quot;$filename&quot; and then execute the command. With thefiles &quot;basilisk.dat&quot;, &quot;minotaur.dat&quot; and &quot;unicorn.dat&quot; in the current directorythe loop will successively call the echo command three times and print threelines: &quot;cp basislisk.dat original-basilisk.dat&quot;, then &quot;cp minotaur.datoriginal-minotaur.dat&quot; and finally &quot;cp unicorn.datoriginal-unicorn.dat&quot;" class="r-stretch"></section>
<section class="slide level2">

</section>
<section id="write-your-own-loop" class="slide level2 challenge">
<h2>Write your own loop</h2>
<p>How would you write a loop that echoes all 10 numbers from 0 to 9?</p>
</section>
<section class="slide level2">

</section>
<section id="variables-in-loops" class="slide level2 challenge">
<h2>Variables in Loops</h2>
<p>This exercise refers to the <code>shell-lesson-data/exercise-data/alkanes</code> directory. <code>ls *.pdb</code> gives the following output:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb43-1"><a></a>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What is the output of the following code?</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb44-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb44-3"><a></a><span class="op">&gt;</span>     ls <span class="ex">*.pdb</span></span>
<span id="cb44-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, what is the output of the following code?</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb45-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb45-3"><a></a><span class="op">&gt;</span>     ls <span class="va">$datafile</span></span>
<span id="cb45-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Why do these two loops give different outputs?</p>
</section>
<section class="slide level2">

</section>
<section id="limiting-sets-of-files" class="slide level2 challenge">
<h2>Limiting Sets of Files</h2>
<p>What would be the output of running the following loop in the <code>shell-lesson-data/exercise-data/alkanes</code> directory?</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a></a><span class="ex">$</span> for filename in c<span class="pp">*</span></span>
<span id="cb46-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb46-3"><a></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb46-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>No files are listed.</li>
<li>All files are listed.</li>
<li>Only <code>cubane.pdb</code>, <code>octane.pdb</code> and <code>pentane.pdb</code> are listed.</li>
<li>Only <code>cubane.pdb</code> is listed.</li>
</ol>
<p>How would the output differ from using this command instead?</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a></a><span class="ex">$</span> for filename in <span class="pp">*</span>c<span class="pp">*</span></span>
<span id="cb47-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb47-3"><a></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb47-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>The same files would be listed.</li>
<li>All the files are listed this time.</li>
<li>No files are listed this time.</li>
<li>The files <code>cubane.pdb</code> and <code>octane.pdb</code> will be listed.</li>
<li>Only the file <code>octane.pdb</code> will be listed.</li>
</ol>
</section>
<table class="caption-top">
<tbody>
<tr class="odd">
<td style="text-align: left;">https://swcarpentry.github.io/shell-novice/06-script.html</td>
</tr>
</tbody>
</table>
<section id="doing-a-dry-run" class="slide level2 challenge">
<h2>Doing a Dry Run</h2>
<p>A loop is a way to do many things at once — or to make many mistakes at once if it does the wrong thing. One way to check what a loop <em>would</em> do is to <code>echo</code> the commands it would run instead of actually running them.</p>
<p>Suppose we want to preview the commands the following loop will execute without actually running those commands:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb48-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb48-3"><a></a><span class="op">&gt;</span>     cat <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb48-4"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What is the difference between the two loops below, and which one would we want to run?</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a></a><span class="co"># Version 1</span></span>
<span id="cb49-2"><a></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb49-3"><a></a><span class="op">&gt;</span> do</span>
<span id="cb49-4"><a></a><span class="op">&gt;</span>     echo <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb49-5"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a></a><span class="co"># Version 2</span></span>
<span id="cb50-2"><a></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb50-3"><a></a><span class="op">&gt;</span> do</span>
<span id="cb50-4"><a></a><span class="op">&gt;</span>     echo <span class="st">"cat </span><span class="va">$datafile</span><span class="st"> &gt;&gt; all.pdb"</span></span>
<span id="cb50-5"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="nested-loops" class="slide level2 challenge">
<h2>Nested Loops</h2>
<p>Suppose we want to set up a directory structure to organize some experiments measuring reaction rate constants with different compounds <em>and</em> different temperatures. What would be the result of the following code:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a></a><span class="ex">$</span> for species in cubane ethane methane</span>
<span id="cb51-2"><a></a><span class="op">&gt;</span> do</span>
<span id="cb51-3"><a></a><span class="op">&gt;</span>     for <span class="ex">temperature</span> in 25 30 37 40</span>
<span id="cb51-4"><a></a><span class="op">&gt;</span>     do</span>
<span id="cb51-5"><a></a><span class="op">&gt;</span>         mkdir <span class="va">$species</span><span class="ex">-</span><span class="va">$temperature</span></span>
<span id="cb51-6"><a></a><span class="op">&gt;</span>     done</span>
<span id="cb51-7"><a></a><span class="op">&gt;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="shell-scripts" class="title-slide slide level1 center">
<h1>Shell Scripts</h1>

</section>
<section class="slide level2">

</section>
<section id="list-unique-species" class="slide level2 challenge">
<h2>List Unique Species</h2>
<p>Leah has several hundred data files, each of which is formatted like this:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb52-1"><a></a>2013-11-05,deer,5</span>
<span id="cb52-2"><a></a>2013-11-05,rabbit,22</span>
<span id="cb52-3"><a></a>2013-11-05,raccoon,7</span>
<span id="cb52-4"><a></a>2013-11-06,rabbit,19</span>
<span id="cb52-5"><a></a>2013-11-06,deer,2</span>
<span id="cb52-6"><a></a>2013-11-06,fox,1</span>
<span id="cb52-7"><a></a>2013-11-07,rabbit,18</span>
<span id="cb52-8"><a></a>2013-11-07,bear,1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>An example of this type of file is given in <code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>.</p>
<p>We can use the command <code>cut -d , -f 2 animals.csv | sort | uniq</code> to produce the unique species in <code>animals.csv</code>. In order to avoid having to type out this series of commands every time, a scientist may choose to write a shell script instead.</p>
<p>Write a shell script called <code>species.sh</code> that takes any number of filenames as command-line arguments and uses a variation of the above command to print a list of the unique species appearing in each of those files separately.</p>
</section>
<section class="slide level2">

</section>
<section id="why-record-commands-in-the-history-before-running-them" class="slide level2 challenge">
<h2>Why Record Commands in the History Before Running Them?</h2>
<p>If you run the command:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> recent.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>the last command in the file is the <code>history</code> command itself, i.e., the shell has added <code>history</code> to the command log before actually running it. In fact, the shell <em>always</em> adds commands to the log before running them. Why do you think it does this?</p>
</section>
<section class="slide level2">

</section>
<section id="variables-in-shell-scripts" class="slide level2 challenge">
<h2>Variables in Shell Scripts</h2>
<p>In the <code>alkanes</code> directory, imagine you have a shell script called <code>script.sh</code> containing the following commands:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a></a><span class="fu">head</span> <span class="at">-n</span> <span class="va">$2</span> <span class="va">$1</span></span>
<span id="cb54-2"><a></a><span class="fu">tail</span> <span class="at">-n</span> <span class="va">$3</span> <span class="va">$1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>While you are in the <code>alkanes</code> directory, you type the following command:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a></a><span class="ex">$</span> bash script.sh <span class="st">'*.pdb'</span> 1 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Which of the following outputs would you expect to see?</p>
<ol type="1">
<li>All of the lines between the first and the last lines of each file ending in <code>.pdb</code> in the <code>alkanes</code> directory</li>
<li>The first and the last line of each file ending in <code>.pdb</code> in the <code>alkanes</code> directory</li>
<li>The first and the last line of each file in the <code>alkanes</code> directory</li>
<li>An error because of the quotes around <code>*.pdb</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="find-the-longest-file-with-a-given-extension" class="slide level2 challenge">
<h2>Find the Longest File With a Given Extension</h2>
<p>Write a shell script called <code>longest.sh</code> that takes the name of a directory and a filename extension as its arguments, and prints out the name of the file with the most lines in that directory with that extension. For example:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/alkanes pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>would print the name of the <code>.pdb</code> file in <code>shell-lesson-data/exercise-data/alkanes</code> that has the most lines.</p>
<p>Feel free to test your script on another directory e.g.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/writing txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="script-reading-comprehension" class="slide level2 challenge">
<h2>Script Reading Comprehension</h2>
<p>For this question, consider the <code>shell-lesson-data/exercise-data/alkanes</code> directory once again. This contains a number of <code>.pdb</code> files in addition to any other files you may have created. Explain what each of the following three scripts would do when run as <code>bash script1.sh *.pdb</code>, <code>bash script2.sh *.pdb</code>, and <code>bash script3.sh *.pdb</code> respectively.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a></a><span class="co"># Script 1</span></span>
<span id="cb58-2"><a></a><span class="bu">echo</span> <span class="pp">*</span>.<span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a></a><span class="co"># Script 2</span></span>
<span id="cb59-2"><a></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="va">$1</span> <span class="va">$2</span> <span class="va">$3</span></span>
<span id="cb59-3"><a></a><span class="cf">do</span></span>
<span id="cb59-4"><a></a>    <span class="fu">cat</span> <span class="va">$filename</span></span>
<span id="cb59-5"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a></a><span class="co"># Script 3</span></span>
<span id="cb60-2"><a></a><span class="bu">echo</span> <span class="va">$@</span>.pdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

</section>
<section id="debugging-scripts" class="slide level2 challenge">
<h2>Debugging Scripts</h2>
<p>Suppose you have saved the following script in a file called <code>do-errors.sh</code> in Nelle’s <code>north-pacific-gyre</code> directory:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb61-2"><a></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb61-3"><a></a><span class="cf">do</span></span>
<span id="cb61-4"><a></a>    <span class="bu">echo</span> <span class="va">$datfile</span></span>
<span id="cb61-5"><a></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb61-6"><a></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run it from the <code>north-pacific-gyre</code> directory:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a></a><span class="ex">$</span> bash do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>the output is blank. To figure out why, re-run the script using the <code>-x</code> option:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a></a><span class="ex">$</span> bash <span class="at">-x</span> do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What is the output showing you? Which line is responsible for the error?</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="finding-things" class="title-slide slide level1 center">
<h1>Finding Things</h1>

</section>
<section class="slide level2">

</section>
<section id="using-grep" class="slide level2 challenge">
<h2>Using <code>grep</code></h2>
<p>Which command would result in the following output:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb64-1"><a></a>and the presence of absence:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><code>grep "of" haiku.txt</code></li>
<li><code>grep -E "of" haiku.txt</code></li>
<li><code>grep -w "of" haiku.txt</code></li>
<li><code>grep -i "of" haiku.txt</code></li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="tracking-a-species" class="slide level2 challenge">
<h2>Tracking a Species</h2>
<p>Leah has several hundred data files saved in one directory, each of which is formatted like this:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb65-1"><a></a>2012-11-05,deer,5</span>
<span id="cb65-2"><a></a>2012-11-05,rabbit,22</span>
<span id="cb65-3"><a></a>2012-11-05,raccoon,7</span>
<span id="cb65-4"><a></a>2012-11-06,rabbit,19</span>
<span id="cb65-5"><a></a>2012-11-06,deer,2</span>
<span id="cb65-6"><a></a>2012-11-06,fox,4</span>
<span id="cb65-7"><a></a>2012-11-07,rabbit,16</span>
<span id="cb65-8"><a></a>2012-11-07,bear,1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>She wants to write a shell script that takes a species as the first command-line argument and a directory as the second argument. The script should return one file called <code>&lt;species&gt;.txt</code> containing a list of dates and the number of that species seen on each date. For example using the data shown above, <code>rabbit.txt</code> would contain:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource source number-lines code-with-copy"><code class="sourceCode"><span id="cb66-1"><a></a>2012-11-05,22</span>
<span id="cb66-2"><a></a>2012-11-06,19</span>
<span id="cb66-3"><a></a>2012-11-07,16</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Below, each line contains an individual command, or pipe. Arrange their sequence in one command in order to achieve Leah’s goal:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a></a><span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2</span>
<span id="cb67-2"><a></a><span class="op">&gt;</span></span>
<span id="cb67-3"><a></a><span class="kw">|</span></span>
<span id="cb67-4"><a></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span></span>
<span id="cb67-5"><a></a><span class="kw">|</span></span>
<span id="cb67-6"><a></a><span class="va">$1</span><span class="ex">.txt</span></span>
<span id="cb67-7"><a></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hint: use <code>man grep</code> to look for how to grep text recursively in a directory and <code>man cut</code> to select more than one field in a line.</p>
<p>An example of such a file is provided in <code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code></p>
</section>
<section class="slide level2">

</section>
<section id="little-women" class="slide level2 challenge">
<h2>Little Women</h2>
<p>You and your friend, having just finished reading <em>Little Women</em> by Louisa May Alcott, are in an argument. Of the four sisters in the book, Jo, Meg, Beth, and Amy, your friend thinks that Jo was the most mentioned. You, however, are certain it was Amy. Luckily, you have a file <code>LittleWomen.txt</code> containing the full text of the novel (<code>shell-lesson-data/exercise-data/writing/LittleWomen.txt</code>). Using a <code>for</code> loop, how would you tabulate the number of times each of the four sisters is mentioned?</p>
<p>Hint: one solution might employ the commands <code>grep</code> and <code>wc</code> and a <code>|</code>, while another might utilize <code>grep</code> options. There is often more than one way to solve a programming task, so a particular solution is usually chosen based on a combination of yielding the correct result, elegance, readability, and speed.</p>
</section>
<section class="slide level2">

</section>
<section id="matching-and-subtracting" class="slide level2 challenge">
<h2>Matching and Subtracting</h2>
<p>The <code>-v</code> option to <code>grep</code> inverts pattern matching, so that only lines which do <em>not</em> match the pattern are printed. Given that, which of the following commands will find all .dat files in <code>creatures</code> except <code>unicorn.dat</code>? Once you have thought about your answer, you can test the commands in the <code>shell-lesson-data/exercise-data</code> directory.</p>
<ol type="1">
<li><code>find creatures -name "*.dat" | grep -v unicorn</code></li>
<li><code>find creatures -name *.dat | grep -v unicorn</code></li>
<li><code>grep -v "unicorn" $(find creatures -name "*.dat")</code></li>
<li>None of the above.</li>
</ol>
</section>
<section class="slide level2">

</section>
<section id="find-pipeline-reading-comprehension" class="slide level2 challenge">
<h2><code>find</code> Pipeline Reading Comprehension</h2>
<p>Write a short explanatory comment for the following shell script:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.dat"</span><span class="va">)</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">



</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>